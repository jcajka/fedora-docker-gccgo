--- golang-github-shurcooL-sanitized_anchor_name/golang-github-shurcooL-sanitized_anchor_name.spec	2015-04-17 09:43:54.057573037 +0200
+++ golang-github-shurcooL-sanitized_anchor_name.spec	2015-04-17 09:51:21.841067615 +0200
@@ -6,6 +6,7 @@
 %global import_path     %{provider}.%{provider_tld}/%{project}/%{repo}
 %global commit          8e87604bec3c645a4eeaee97dfec9f25811ff20d
 %global shortcommit     %(c=%{commit}; echo ${c:0:7})
+%global gopath /usr/share/gocode
 
 Name:           golang-%{provider}-%{project}-%{repo}
 Version:        0
@@ -25,8 +26,8 @@
 %{summary}
 
 %package devel
-BuildRequires:  golang >= 1.2.1-3
-Requires:       golang >= 1.2.1-3
+BuildRequires:  gcc-go
+Requires:       gcc-go
 Summary:        %{summary}
 Provides:       golang(%{import_path}) = %{version}-%{release}
 
@@ -47,7 +48,7 @@
 cp -pav *.go %{buildroot}/%{gopath}/src/%{import_path}/
 
 %check
-GOPATH=%{buildroot}/%{gopath}:%{gopath} go test %{import_path}
+GOPATH=%{buildroot}/%{gopath}:%{gopath} go test -compiler gccgo -gccgoflags "$RPM_OPT_FLAGS" %{import_path}
 
 %files devel
 %doc README.md LICENSE
